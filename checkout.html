<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨ | Ø±ÙŠØ§Ø­ÙŠÙ†</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f7f7f7;
      margin: 0;
      padding: 0;
    }

    .container {
      max-width: 500px;
      margin: 40px auto;
      background: #fff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

    h2 {
      text-align: center;
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }

    input, textarea {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 14px;
    }

    textarea {
      resize: none;
    }

    .summary {
      background: #f1f1f1;
      padding: 15px;
      border-radius: 8px;
      margin-top: 20px;
      font-size: 14px;
    }

    .btn {
      margin-top: 20px;
      width: 100%;
      padding: 15px;
      background: #25D366;
      color: #fff;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      cursor: pointer;
    }

    .btn:hover {
      background: #1ebe5d;
    }

    .note {
      text-align: center;
      font-size: 13px;
      margin-top: 15px;
      color: #555;
    }
  </style>
</head>

<body>

<div class="container">
  <h2>ğŸ›’ Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨</h2>

  <label>Ø§Ù„Ø§Ø³Ù…</label>
  <input type="text" id="name" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ">

  <label>Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„</label>
  <input type="tel" id="phone" placeholder="01XXXXXXXXX">

  <label>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label>
  <textarea id="address" rows="3" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„ØªÙØµÙŠÙ„"></textarea>

  <div class="summary">
    <strong>Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨:</strong>
    <div id="orderSummary">Ø¬Ø§Ø±Ù ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨...</div>
    <hr>
    <strong>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</strong>
    <span id="totalPrice">0</span> Ø¬Ù†ÙŠÙ‡
  </div>

  <button class="btn" onclick="sendWhatsApp()">ğŸ“² Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨</button>

  <div class="note">
    ğŸ”’ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø¢Ù…Ù†Ø© â€“ Ø§Ù„Ø·Ù„Ø¨ ÙŠØªÙ… Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨ ÙÙ‚Ø·
  </div>
</div>

<script>
  const cart = JSON.parse(localStorage.getItem("cart")) || [];

  const summary = document.getElementById("orderSummary");
  const totalEl = document.getElementById("totalPrice");

  let total = 0;

  if (cart.length === 0) {
    summary.innerHTML = "Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©";
  } else {
    summary.innerHTML = "";

    cart.forEach(item => {
      const itemTotal = item.unit
        ? item.price * item.quantity
        : (item.price * item.quantity) / 1000;

      total += itemTotal;

      summary.innerHTML += `
        <div>
          ${item.product} Ã— ${item.quantity} ${item.unit || "Ø¬Ø±Ø§Ù…"}
          â€” ${itemTotal.toFixed(2)} Ø¬Ù†ÙŠÙ‡
        </div>
      `;
    });
  }

  totalEl.textContent = total.toFixed(2);

</script>
<script>
function sendWhatsApp() {
  const name = document.getElementById("name").value.trim();
  const phone = document.getElementById("phone").value.trim();
  const address = document.getElementById("address").value.trim();

  if (!name || !phone || !address) {
    alert("Ù…Ù† ÙØ¶Ù„Ùƒ Ø§Ù…Ù„Ø£ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");
    return;
  }

  const cart = JSON.parse(localStorage.getItem("cart")) || [];

  if (cart.length === 0) {
    alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©");
    return;
  }

  let total = 0;
  let itemsText = "";

  cart.forEach(item => {
    const itemTotal = item.price * item.quantity;
    total += itemTotal;

    itemsText += `- ${item.product} Ã— ${item.quantity} = ${itemTotal} Ø¬Ù†ÙŠÙ‡\n`;
  });

  const message = `
Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ù…ÙˆÙ‚Ø¹ Ø±ÙŠØ§Ø­ÙŠÙ†
-----------------------
Ø§Ù„Ø§Ø³Ù…: ${name}
Ø§Ù„Ù‡Ø§ØªÙ: ${phone}
Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${address}

Ø§Ù„Ø·Ù„Ø¨:
${itemsText}

Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${total} Ø¬Ù†ÙŠÙ‡
`;

  /* ğŸ”´ Ø­Ø· Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ Ù‡Ù†Ø§ */
   const whatsappNumber = "201207772789"; // Ø¨Ø¯ÙˆÙ† + ÙˆÙ„Ø§ Ù…Ø³Ø§ÙØ§Øª

  const url = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(message)}`;
  window.open(url, "_blank");
}
</script>

</body>
</html>
